# **Инструкция по работе с системой контроля версий Git**

![Эмблема Git](git.jpg)

Git (произносится «гит») — распределённая система управления версиями. Проект был создан Линусом Торвальдсом для управления разработкой ядра Linux, первая версия выпущена 7 апреля 2005 года. На сегодняшний день его поддерживает Джунио Хамано.

## Инициализация репозитория

Чтобы создать (инициализировать) новый репозиторий нужно в терминале ввести команду:

    git init

Репозиторий будет создан в той папке, из которой вызывалась команда

## Проверка состояния репозитория

Чтобы проверить текущее состояние репозитория нужно ввести в терминале команду:

    git status

## Добавление изменения к отслеживанию версионности

Чтобы добавить сделанное изменение к отслеживанию (поместить в индекс) нужно ввести команду:

    git add <имя файла>

где вместо <имя файла> вводится путь к файлу относительно расположения репозитория.

## Фиксация изменений

Чтобы зафиксировать изменение используется команда:

    git commit

В таком случае откроется окно для ввоба краткого описания сделанных изменений.

Чтобы сделать это одновременно с фиксацией используется команда:

    git commit -m "комментарий"

## Просмотр истории изменений

Чтобы посмотреть историю изменений используется комада

    git log

Для просмотра изменений с выводом одного коммита в одну строку используется команда

    git log --oneline

Для просмотра всех имеющихся коммитов используется команда

    git log --all

Для просмотра лога с графическим изображением веток используется команда

    git log --graph

Все указанные флаги могут использоваться вместе:

    git log --all --oneline --graph

## Просмотр различий между изменениями

Для просмотра отличий между текущим состоянием репозитория и последним сохраненным изменением используется команда

    git diff

Можно также посмотреть разницу между любыми двуми коммитами. Для этого используется команда

    git diff <хэш1> <хэш2>

## Переключение на нужное изменение

Чтобы переключиться на нужный коммит используется команда

    git checkout <хэш>

## Ветки в Git

### Создание новой ветки

Чтобы создать новую ветку используется команда

    git branch <имя_ветки>

### Просмотр всех веток

Чтобы посмотреть какие ветки существуют и на какой мы находимся используется команда

    git branch

### Переключение между ветками

Чтобы переключиться на другую ветку используется команда

    git checkout <имя_ветки>

### Слияние веток

Чтобы влить одну ветку в другую необходимо находясь в целевой ветке (КУДА будем делать слияние) выполнить команду

    git merge <имя_вливаемой_ветки>

### Конфликты при слиянии

Если одна и та же строка в разный версиях записана по разному возникнет конфликт.
Чистый гит автоматически сохраняет оба изменения, далее требуется вручную внести нужные правки и сделать коммит.

VSСode дает возможность выбрать какое изменение сохранить (входящее, существующее или оба).

### Удаление ветки

Чтобы удалить ветку, которая больше не нужно (например после слияния) используется команда

    git branch -d <имя_ветки>

## Работа с удаленным репозиторием

Часто в работе над проектом участвуют несколько человек, в таком случае им предоставляется доступ к основному удаленному репозиторию, в который они могут в той или иной степени вносить правки.

Одним из вариантов для работы с удаленным репозиторием является сайт GitHub.

### Создание удаленного репозитория

Для создания удаленного репозитория нужен в первую очередь *аккаунт* в любом сервисе, в данном случае пусть это будет GitHub.

1. Создаем новый репозиторий в своем аккаунте на GitHub. Настраиваем по желанию, но если вы хотите, чтобы доступ был публичным, важно оставить пункт Public.
2. После создания репозитория GitHub отобразит для вас различные варианты использования репозитория, можно выбрать тот, который вам нужен, скопировать оттуда команды и использовать в Git на своем устройстве.

Если точнее, необходимо сначала привязать удаленный репозиторий через команду

    git remote add origin <ссылка на репозиторий>

Затем выбрать основную ветку

    git branch -M main

И использовать данную команду

    git push -u origin main

После этого GitHub в пуше один раз предложит *авторизацию*, которая нужна для подтверждения ваших *прав на внесение изменений* в удаленный репозиторий. Это необходимо, чтобы посторонние не могли вносить правки в ваш репозиторий, даже если он будет в открытом доступе.

* Помните, что все дальнейшие изменения происходят только в локальном репозитории.

Для **отправки изменений в удаленный репозиторий** нужно, помимо обычного сохранения в локальном репозитории, использовать следующую команду:

    git push

* Данная команда содержит в себе функцию merge, поэтому в случае возникновения конфликта появятся обычные варианты для решения конфликта.

Если же изменения были внесены *только* в удаленный репозиторий, то, чтобы взять актуальную версию в локальный репозиторий, используйте команду:

    git pull

### Работа с готовым репозиторием

Вы можете скопировать находящийся в открытом доступе репозиторий. Для этого скопируйте ссылку на этот репозиторий через вкладку Code на странице репозитория в GitHub.

В терминале наберите команду:

    git clone <ссылка на репозиторий>

*Обратите внимание*: появится папка с названием соответствующего репозитория, но для того, чтобы git работал именно с этой папкой, нужно также выполнить команду:

    cd <название репозитория>

Таким образом вы получите в локальную папку копию удаленного репозитория, сможете просматривать полностью историю через log, статус через status и т.д.

* Обратите внимание: если у вас нет доступа к аккаунту, который является хозяином репозитория, то внести в него правки вы не сможете, как и предложить правки хозяину репозитория. У вас будет только локальный репозиторий.

### Внесение правок в удаленный репозиторий без прав доступа